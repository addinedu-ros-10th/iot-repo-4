# IoT Care Backend System μ΄μ λ° ν•΄κ²° λ°©μ•

## π”΄ ν„μ¬ μ§„ν–‰ μ¤‘μΈ μ΄μ

### Issue #4: ImportError - Edge μ„Όμ„ μΈν„°νμ΄μ¤ import μ‹¤ν¨
**λ°μƒ μ‹μ **: 2024-12-19 17:00  
**μƒνƒ**: π”΄ μ§„ν–‰ μ¤‘  
**μ°μ„ μμ„**: λ†’μ (μ‹μ¤ν… μ‹μ‘ λ¶κ°€)

#### λ¬Έμ  μƒμ„Έ
```
ImportError: cannot import name 'IEdgeFlameRepository' from 'app.interfaces.repositories.sensor_repository' (/app/app/interfaces/repositories/sensor_repository.py)
```

#### λ¬Έμ  μ›μΈ λ¶„μ„
1. **μΈν„°νμ΄μ¤ νμΌ κµ¬μ΅° λ¶μΌμΉ**: 
   - `container.py`μ—μ„ `sensor_repository`μ—μ„ Edge μ„Όμ„ κ΄€λ ¨ μΈν„°νμ΄μ¤λ¥Ό importν•λ ¤κ³  μ‹λ„
   - μ‹¤μ λ΅λ” κ° μ„Όμ„λ³„λ΅ κ°λ³„ μΈν„°νμ΄μ¤ νμΌμ΄ μƒμ„±λμ–΄μ•Ό ν•¨
   - `sensor_repository.py`μ— Edge μ„Όμ„ μΈν„°νμ΄μ¤κ°€ μ •μλμ–΄ μμ§€ μ•μ

2. **μμ΅΄μ„± μ£Όμ… μ‹μ¤ν… μ¤λ¥**:
   - `container.py`μ import λ¬Έμ΄ μλ»λ κ²½λ΅λ¥Ό μ°Έμ΅°
   - μ΅΄μ¬ν•μ§€ μ•λ” μΈν„°νμ΄μ¤λ“¤μ„ importν•λ ¤κ³  μ‹λ„

3. **νμΌ κµ¬μ΅° λ¶μΌμΉ**:
   - API κµ¬ν„μ€ μ™„λ£λμ—μ§€λ§, μΈν„°νμ΄μ¤ λ μ΄μ–΄μ κµ¬μ΅°κ°€ μΌμΉν•μ§€ μ•μ

#### ν•΄κ²° λ°©μ•
**Phase 1: μΈν„°νμ΄μ¤ νμΌ κµ¬μ΅° μ •λ¦¬**
- κ° μ„Όμ„λ³„ κ°λ³„ μΈν„°νμ΄μ¤ νμΌ ν™•μΈ λ° μƒμ„±
- `sensor_repository.py` νμΌμ λ‚΄μ© ν™•μΈ λ° μμ •
- λ„λ½λ μΈν„°νμ΄μ¤ μ •μ μ¶”κ°€

**Phase 2: μμ΅΄μ„± μ£Όμ… μ‹μ¤ν… μμ •**
- `container.py`μ import λ¬Έ μμ •
- μ¬λ°”λ¥Έ μΈν„°νμ΄μ¤ νμΌμ—μ„ importν•λ„λ΅ λ³€κ²½
- μμ΅΄μ„± μ£Όμ… ν•¨μλ“¤μ μ¬λ°”λ¥Έ μ—°κ²° ν™•μΈ

**Phase 3: μ‹μ¤ν… μ¬μ‹μ‘ λ° ν…μ¤νΈ**
- μμ •λ μ½”λ“λ΅ μ‹μ¤ν… μ¬μ‹μ‘
- Import μ¤λ¥ ν•΄κ²° ν™•μΈ
- API μ„λ²„ μ •μƒ λ™μ‘ κ²€μ¦

#### μ§„ν–‰ μƒν™©
- [x] λ¬Έμ  μ›μΈ νμ•…
- [x] ν•΄κ²° κ³„ν μλ¦½
- [ ] μΈν„°νμ΄μ¤ νμΌ κµ¬μ΅° μ •λ¦¬
- [ ] import λ¬Έ μμ •
- [ ] μ‹μ¤ν… μ¬μ‹μ‘ ν…μ¤νΈ

#### μμƒ μ™„λ£ μ‹κ°„
- **Phase 1**: 30λ¶„
- **Phase 2**: 30λ¶„  
- **Phase 3**: 15λ¶„
- **μ΄ μμƒ μ‹κ°„**: 1μ‹κ°„ 15λ¶„

---

## β… ν•΄κ²°λ μ΄μ

### Issue #3: psycopg2 μ„¤μΉ μ¤λ¥ (ν•΄κ²°λ¨)
**λ°μƒ μ‹μ **: 2024-12-19 14:00  
**ν•΄κ²° μ‹μ **: 2024-12-19 15:30  
**μƒνƒ**: β… ν•΄κ²°λ¨

#### λ¬Έμ  μƒμ„Έ
Windows ν™κ²½μ—μ„ `psycopg2` μ„¤μΉ μ‹ Microsoft Visual C++ Build Tools μ¤λ¥ λ°μƒ

#### ν•΄κ²° λ°©μ•
1. **psycopg2-binary μ‚¬μ©**: μ»΄νμΌλ λ°”μ΄λ„λ¦¬ ν¨ν‚¤μ§€ μ‚¬μ©
2. **Visual C++ Build Tools μ„¤μΉ**: μ‚¬μ©μμ—κ² ν•„μ”ν• λ„κµ¬ μ„¤μΉ μ•λ‚΄
3. **μλ™ν™” μ¤ν¬λ¦½νΈ μ κ³µ**: `install_packages.bat` λ° `install_packages.ps1` μƒμ„±

#### κ²°κ³Ό
- PostgreSQL λ“λΌμ΄λ²„ μ •μƒ μ„¤μΉ μ™„λ£
- λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ •μƒ μ‘λ™

---

### Issue #2: Pydantic λ²„μ „ νΈν™μ„± λ¬Έμ  (ν•΄κ²°λ¨)
**λ°μƒ μ‹μ **: 2024-12-19 13:00  
**ν•΄κ²° μ‹μ **: 2024-12-19 13:30  
**μƒνƒ**: β… ν•΄κ²°λ¨

#### λ¬Έμ  μƒμ„Έ
`pydantic-settings` ν¨ν‚¤μ§€κ°€ Pydantic v2μ™€ νΈν™λμ§€ μ•μ

#### ν•΄κ²° λ°©μ•
1. **Pydantic v1 μ‚¬μ©**: `pydantic==1.10.13` μ„¤μΉ
2. **python-dotenv μ‚¬μ©**: `pydantic-settings` λ€μ‹  `python-dotenv` μ‚¬μ©
3. **requirements.txt μ—…λ°μ΄νΈ**: νΈν™λλ” λ²„μ „μΌλ΅ μμ •

#### κ²°κ³Ό
- λ°μ΄ν„° κ²€μ¦ μ‹μ¤ν… μ •μƒ μ‘λ™
- ν™κ²½ λ³€μ κ΄€λ¦¬ μ •μƒ μ‘λ™

---

### Issue #1: Clean Architecture μ„λ° λ¬Έμ  (ν•΄κ²°λ¨)
**λ°μƒ μ‹μ **: 2024-12-19 10:00  
**ν•΄κ²° μ‹μ **: 2024-12-19 16:00  
**μƒνƒ**: β… ν•΄κ²°λ¨

#### λ¬Έμ  μƒμ„Έ
κΈ°μ΅΄ μ„Όμ„ APIλ“¤μ΄ Clean Architectureλ¥Ό μ„λ°ν•μ—¬ μ§μ ‘ λ°μ΄ν„°λ² μ΄μ¤μ— μ ‘κ·Ό

#### ν•΄κ²° λ°©μ•
1. **μ „μ²΄ API λ¦¬ν©ν† λ§**: Clean Architecture μ¤€μν•λ„λ΅ μμ •
2. **μΈν„°νμ΄μ¤ λ¶„λ¦¬**: Repositoryμ™€ Service μΈν„°νμ΄μ¤ μ •μ
3. **μμ΅΄μ„± μ£Όμ…**: FastAPIμ `Depends`λ¥Ό ν™μ©ν• μμ΅΄μ„± μ£Όμ… κµ¬ν„

#### κ²°κ³Ό
- λ¨λ“  25κ° APIκ°€ Clean Architecture μ¤€μ
- μμ΅΄μ„± μ—­μ „ μ›μΉ™ μ™„λ²½ μ μ©
- ν…μ¤νΈ κ°€λ¥ν• μ•„ν‚¤ν…μ² κµ¬ν„

---

## π“‹ μ΄μ ν•΄κ²° μ²΄ν¬λ¦¬μ¤νΈ

### ν„μ¬ μ§„ν–‰ μ¤‘
- [ ] **Issue #4**: ImportError ν•΄κ²°
  - [ ] μΈν„°νμ΄μ¤ νμΌ κµ¬μ΅° μ •λ¦¬
  - [ ] import λ¬Έ μμ •
  - [ ] μ‹μ¤ν… μ¬μ‹μ‘ ν…μ¤νΈ

### μ™„λ£λ μ΄μ
- [x] **Issue #3**: psycopg2 μ„¤μΉ μ¤λ¥
- [x] **Issue #2**: Pydantic λ²„μ „ νΈν™μ„± λ¬Έμ   
- [x] **Issue #1**: Clean Architecture μ„λ° λ¬Έμ 

---

## π¨ ν–¥ν›„ μ£Όμμ‚¬ν•­

### 1. μΈν„°νμ΄μ¤ νμΌ κµ¬μ΅° κ΄€λ¦¬
- κ° μ„Όμ„λ³„λ΅ κ°λ³„ μΈν„°νμ΄μ¤ νμΌ μƒμ„± μ‹ μΌκ΄€μ„± μ μ§€
- `container.py`μ import λ¬Έκ³Ό μ‹¤μ  νμΌ κµ¬μ΅° μΌμΉ ν™•μΈ

### 2. μμ΅΄μ„± μ£Όμ… μ‹μ¤ν… κ²€μ¦
- μƒλ΅μ΄ API μ¶”κ°€ μ‹ μμ΅΄μ„± μ£Όμ… ν•¨μ μ •μƒ μ‘λ™ ν™•μΈ
- import κ²½λ΅μ μ •ν™•μ„± κ²€μ¦

### 3. μ‹μ¤ν… ν†µν•© ν…μ¤νΈ
- API κµ¬ν„ μ™„λ£ ν›„ λ°λ“μ‹ μ‹μ¤ν… ν†µν•© ν…μ¤νΈ μν–‰
- Import μ¤λ¥ λ° μμ΅΄μ„± λ¬Έμ  μ‚¬μ „ κ²€μ¦

---

## π“ μ§€μ› λ° λ¬Έμ

μ΄μ ν•΄κ²° κ³Όμ •μ—μ„ μ¶”κ°€ μ§€μ›μ΄ ν•„μ”ν• κ²½μ°:
1. λ΅κ·Έ νμΌ ν™•μΈ
2. νμΌ κµ¬μ΅° κ²€μ¦
3. κ°λ°ν€μ— μƒμ„Έ μ΄μ λ¦¬ν¬νΈ μ μ¶

**ν„μ¬ Issue #4 ν•΄κ²° μ§„ν–‰ μ¤‘μ΄λ©°, μ™„λ£ ν›„ μ‹μ¤ν… ν†µν•© ν…μ¤νΈλ¥Ό μ§„ν–‰ν•  μμ •μ…λ‹λ‹¤.**
